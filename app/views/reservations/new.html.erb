<div class="container mx-auto max-w-2xl">
  <div class="breadcrumbs text-sm mb-4">
    <ul>
      <li><%= link_to "Home", root_path %></li>
      <li><%= link_to "Boat Tours", boat_tours_path %></li>
      <li><%= link_to @boat_tour.name, boat_tour_path(@boat_tour) %></li>
      <li>New Reservation</li>
    </ul>
  </div>

  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h1 class="card-title text-3xl mb-4">Make a Reservation</h1>
      <p class="mb-4">Book your spot for: <strong><%= @boat_tour.name %></strong></p>

      <%= form_with(model: [@boat_tour, @reservation], local: true, class: "space-y-4") do |form| %>
        <% if @reservation.errors.any? %>
          <div class="alert alert-error">
            <div>
              <h3 class="font-bold">Please correct the following errors:</h3>
              <ul class="list-disc list-inside">
                <% @reservation.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
            </div>
          </div>
        <% end %>

        <div class="form-control">
          <%= form.label :customer_name, class: "label" do %>
            <span class="label-text">Full Name</span>
          <% end %>
          <%= form.text_field :customer_name, class: "input input-bordered w-full", placeholder: "John Doe" %>
        </div>

        <div class="form-control">
          <%= form.label :customer_email, class: "label" do %>
            <span class="label-text">Email</span>
          <% end %>
          <%= form.email_field :customer_email, class: "input input-bordered w-full", placeholder: "john@example.com" %>
        </div>

        <div class="form-control">
          <%= form.label :customer_phone, class: "label" do %>
            <span class="label-text">Phone</span>
          <% end %>
          <%= form.text_field :customer_phone, class: "input input-bordered w-full", placeholder: "+1234567890" %>
        </div>

        <div class="form-control">
          <%= form.label :number_of_people, class: "label" do %>
            <span class="label-text">Number of People</span>
          <% end %>
          <%= form.number_field :number_of_people, class: "input input-bordered w-full", min: 1, max: @boat_tour.capacity %>
        </div>

        <div class="form-control">
          <%= form.label :reservation_date, class: "label" do %>
            <span class="label-text">Reservation Date</span>
          <% end %>
          <%= form.date_field :reservation_date, class: "input input-bordered w-full", min: Date.today, max: @boat_tour.available_to %>
        </div>

        <div class="form-control mt-6">
          <%= form.submit "Book Now", class: "btn btn-primary btn-block" %>
          <%= link_to "Cancel", boat_tour_path(@boat_tour), class: "btn btn-ghost btn-block" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
